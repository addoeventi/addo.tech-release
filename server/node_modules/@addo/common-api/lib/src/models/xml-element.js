"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MappingElement = exports.XmlElement = void 0;
class XmlElement {
    constructor() {
        this.mapping = [];
    }
    getXml(invoice_xml) {
        for (let el of this.mapping) {
            invoice_xml = this.convertXml(invoice_xml, el);
        }
        return invoice_xml;
    }
    convertXml(invoice_xml, el) {
        if (!this[el.key])
            return invoice_xml;
        if (Array.isArray(this[el.key])) {
            for (let o of this[el.key]) {
                invoice_xml += `<${el.key}>`;
                invoice_xml = o.getXml(invoice_xml);
                invoice_xml += `</${el.key}>`;
            }
        }
        else if (typeof this[el.key] === "object" && this[el.key] != null) {
            invoice_xml += `<${el.key}>`;
            invoice_xml = this[el.key].getXml(invoice_xml);
            invoice_xml += `</${el.key}>`;
        }
        else {
            invoice_xml += `<${el.key}>${el.transform(this[el.key])}</${el.key}>`;
        }
        return invoice_xml;
    }
}
exports.XmlElement = XmlElement;
class MappingElement {
    constructor(key, transform = null) {
        this.key = key;
        this.transform = transform || ((value) => value);
    }
}
exports.MappingElement = MappingElement;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieG1sLWVsZW1lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbW9kZWxzL3htbC1lbGVtZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLE1BQWEsVUFBVTtJQUF2QjtRQUNTLFlBQU8sR0FBcUIsRUFBRSxDQUFDO0lBNkJ4QyxDQUFDO0lBM0JDLE1BQU0sQ0FBQyxXQUFtQjtRQUN4QixLQUFLLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDM0IsV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQ2hEO1FBRUQsT0FBTyxXQUFXLENBQUM7SUFDckIsQ0FBQztJQUVPLFVBQVUsQ0FBQyxXQUFtQixFQUFFLEVBQWtCO1FBQ3hELElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQztZQUFFLE9BQU8sV0FBVyxDQUFDO1FBRXRDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDL0IsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUMxQixXQUFXLElBQUksSUFBSSxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7Z0JBQzdCLFdBQVcsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2dCQUNwQyxXQUFXLElBQUksS0FBSyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7YUFDL0I7U0FDRjthQUFNLElBQUksT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLFFBQVEsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksRUFBRTtZQUNuRSxXQUFXLElBQUksSUFBSSxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDN0IsV0FBVyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQy9DLFdBQVcsSUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztTQUMvQjthQUFNO1lBQ0wsV0FBVyxJQUFJLElBQUksRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7U0FDdkU7UUFFRCxPQUFPLFdBQVcsQ0FBQztJQUNyQixDQUFDO0NBQ0Y7QUE5QkQsZ0NBOEJDO0FBRUQsTUFBYSxjQUFjO0lBSXpCLFlBQVksR0FBVyxFQUFFLFlBQWlDLElBQUk7UUFDNUQsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDZixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNuRCxDQUFDO0NBQ0Y7QUFSRCx3Q0FRQyJ9